<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <title>Tengwar en Català</title>
  <style>
    /* Tipografia Tengwar */
    @font-face {
      font-family: 'TengwarAnnatar';
      src: url('tngan.ttf') format('truetype');
    }

    body {
      font-family: "Segoe UI", sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background-color: #fcfcfc;
      color: #333;
    }

    h1, h2 {
      color: #2c3e50;
    }

    code {
      background-color: #eee;
      padding: 2px 6px;
      border-radius: 4px;
    }

    pre {
      background: #f4f4f4;
      padding: 15px;
      border-left: 5px solid #ccc;
      overflow-x: auto;
    }

    .note {
      font-style: italic;
      color: #666;
    }

    .button {
      display: inline-block;
      padding: 10px 20px;
      background-color: #2ecc71;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-weight: bold;
      transition: background-color 0.3s ease;
    }

    .button:hover {
      background-color: #27ae60;
    }

    iframe {
      width: 100%;
      height: 400px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .tengwar {
      font-family: 'TengwarAnnatar', serif;
      font-size: 1.5em;
      line-height: 1.8;
      letter-spacing: 2px;
      white-space: pre-wrap;
      padding: 10px;
      background: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 6px;
      margin-top: 10px;
    }

    textarea {
      width: 100%;
      font-size: 1.2em;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      resize: vertical;
    }
  </style>
</head>
<body>

<h1>Tengwar Mode Català</h1>

<p>Aquesta pàgina recull el treball de David Carrascal Rierola sobre com transcriure fonèticament el català amb l'alfabet tengwar.</p>

<p class="note">S’ha intentat que tots els dialectes de la llengua es trobin representats i puguin treballar amb el mode català sense dificultats.</p>

<h2>Consideracions generals</h2>
<ul>
  <li>Es recomana descobrir el so de les paraules abans de transcriure-les.</li>
  <li>Les vocals es poden representar com a <em>tehtar</em> (diacrítics) o com a tengwar equivalents.</li>
  <li>Si s’opta per usar <em>tehtar</em>, s’han de col·locar damunt la tengwar precedent.</li>
  <li>Els triftongs no tenen representació especial.</li>
</ul>

<h2>Visualitza el document</h2>
<iframe src="catalan_tengwar.pdf" title="Mode Tengwar en català"></iframe>

<br><br>
<a class="button" href="catalan_tengwar.pdf" download>⬇ Descarrega el PDF</a>

<h2>Exemple escrit en Tengwar</h2>
<p class="tengwar">
zE51E 2(`V,O jL zHjL7( eJ5$(i1O 4(zTjyO jL zU`Ëj q7UwUzO7D `V5Utw7EwjLi iMe7Tt(R5, `Ëj, `ËzUy(R, `B q7(iTqG1E t(^j1O, `C5%t(, `ËieJ7iD4(i 2(7H`V, `Ë j#4(, `B `Ëji zUtw(71T`Ë `Ë5 qOi1U7( 4(ji v(^iM, `B t($f( 4( jL, yEi
</p>

<p class="note">Canta, deesa, la còlera funesta d'Aquil·leu el Pelida, la qual provocà innombrables sofriments als aqueus i precipità moltes ànimes esforçades d'herois a l'Hades, i els convertia en pastura dels gossos i menja de les aus.</p>

<h2>Transcriptor interactiu</h2>
<p>Escriu una frase en català i la veuràs transcrita automàticament en Tengwar (versió fonètica simplificada):</p>

<textarea id="inputText" rows="4" placeholder="Escriu aquí una frase en català..."></textarea>
<p class="note">Resultat aproximat en Tengwar:</p>
<div id="tengwarOutput" class="tengwar"></div>

<p><strong>Autor:</strong> David Carrascal Rierola – <em>Herumírë</em></p>
<p><strong>Contacte:</strong> <a href="mailto:herumire@gmail.com">herumire@gmail.com</a></p>

<script>
  const map = {
    a: "a", e: "e", i: "i", o: "o", u: "u",
    b: "b", c: "k", d: "d", f: "f", g: "g",
    h: "h", j: "j", l: "l", m: "m", n: "n",
    p: "p", q: "k", r: "r", s: "s", t: "t",
    v: "v", x: "ks", z: "z",
    ç: "s", ñ: "ny", "·": "", "ŀ": "l",
    "ll": "ly", "ny": "ny", "gu": "g", "qu": "k"
  };

  function transcriu(text) {
    let result = text
      .toLowerCase()
      .normalize("NFD")
      .replace(/[\u0300-\u036f]/g, ""); // Elimina accents

    // Substitucions específiques primer
    result = result.replace(/ll/g, map["ll"]);
    result = result.replace(/ny/g, map["ny"]);
    result = result.replace(/qu/g, map["qu"]);
    result = result.replace(/gu/g, map["gu"]);

    // Lletres individuals
    result = result.split("").map(c => map[c] || c).join("");

    return result;
  }

  document.getElementById("inputText").addEventListener("input", function() {
    const text = this.value;
    const transcribed = transcriu(text);
    document.getElementById("tengwarOutput").textContent = transcribed;
  });
</script>

</body>
</html>
